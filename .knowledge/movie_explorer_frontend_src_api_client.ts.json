{"is_source_file": true, "format": "TypeScript", "description": "Source file for client-side movie search interactions, including fetching data from an API or returning mock data, with environment-based configuration and logging.", "external_files": ["../types/movie"], "external_methods": ["fetch"], "published": ["searchMovies"], "classes": [], "methods": [{"name": "export async function searchMovies(query: string): Promise<Movie[]> { searchMovies", "description": "Fetches a list of movies matching the query from an API endpoint or returns mock data if API base URL is not configured.", "scope": "", "scopeKind": ""}, {"name": "function cryptoRandomId(): string { cryptoRandomId", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function toQueryString(params: Record<string, string>) { toQueryString", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "setTimeout", "clearTimeout", "console.debug", "console.warn"], "search-terms": ["client.ts", "searchMovies", "mockMovies", "API_BASE", "fetch", "Movie[]", "environment variables", "public interface"], "state": 2, "file_id": 16, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_BASE?.trim() || \"\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_TIMEOUT_MS", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^const DEFAULT_TIMEOUT_MS = 8000;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "LOG_LEVEL", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^const LOG_LEVEL = (process.env.REACT_APP_LOG_LEVEL || \"warn\").toLowerCase();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "arr", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^    const arr = new Uint8Array(8);$/", "language": "TypeScript", "kind": "constant", "scope": "cryptoRandomId", "scopeKind": "function"}, {"_type": "tag", "name": "controller", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^  const controller = new AbortController();$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "cryptoRandomId", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^function cryptoRandomId(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^    const data = await res.json();$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "logDebug", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^const logDebug = (...args: any[]) => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mapped", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^    const mapped: Movie[] = (Array.isArray(data) ? data : data?.results || []).map((item: any) =/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "mockMovies", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^const mockMovies: Movie[] = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^  const q = (query || \"\").trim();$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "ql", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^    const ql = q.toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^    const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "searchMovies", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^export async function searchMovies(query: string): Promise<Movie[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "timeout", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^  const timeout = setTimeout(() => controller.abort(), DEFAULT_TIMEOUT_MS);$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "toQueryString", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^function toQueryString(params: Record<string, string>) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/royal-movie-discover-222928-222938/movie_explorer_frontend/src/api/client.ts", "pattern": "/^    const url = `${BASE_URL.replace(\\/\\\\\\/+$\\/, \"\")}\\/search?${toQueryString({$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}], "hash": "f22b18b858b6597b17f992258a0a46c4", "format-version": 4, "code-base-name": "movie_explorer_frontend", "filename": "movie_explorer_frontend/src/api/client.ts", "revision_history": [{"35": ""}]}